{
  "name": "chatbot",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "WhatsApp",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -1136,
        -176
      ],
      "id": "1a58d1d2-502e-4d09-8b40-31d7c37ad769",
      "name": "Webhook",
      "webhookId": "YOUR_WEBHOOK_ID"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=### Ø§Ù„Ø¯ÙˆØ± ÙˆØ§Ù„Ø´Ø®ØµÙŠØ©:\nØ£Ù†Øª Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ù„Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙÙŠ \"Ù…Ù†Ø­ Ù…Ù† Ø£Ø¬Ù„Ùƒ\".\nØ£Ø³Ù„ÙˆØ¨Ùƒ: ÙˆØ¯ÙˆØ¯ØŒ Ù…Ø­ØªØ±Ù…ØŒ Ù…Ø®ØªØµØ±ØŒ ÙˆØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø¨Ø´ÙƒÙ„ Ù„Ø·ÙŠÙ (ğŸ˜ŠØŒ ğŸ“ØŒ âœ…).\nÙ…Ù‡Ù…ØªÙƒ: Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨ ÙˆÙ…Ø³Ø§Ø¹Ø¯ØªÙ‡ ÙÙŠ Ø§ØªØ®Ø§Ø° Ù‚Ø±Ø§Ø± Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…ØŒ Ø¨Ù†Ø§Ø¡Ù‹ *Ø­ØµØ±ÙŠØ§Ù‹* Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙˆÙØ±Ø© Ù„Ø¯ÙŠÙƒ Ø£Ø¯Ù†Ø§Ù‡.\n\n---\n\n### 1. Ù…Ù† Ù‡Ùˆ Ø§Ù„Ø·Ø§Ù„Ø¨ØŸ (Context):\n- Ø§Ù„Ø§Ø³Ù…: {{ $('get the customers').item.json['Ø§Ù„Ø§Ø³Ù… ÙƒØ§Ù…Ù„Ø§'] }}\n- Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©: {{ $('get the customers').item.json['Ù…Ø§ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„ØªÙŠ Ù„Ø¯ÙŠÙƒ'] }}\n- Ø§Ù„Ø¯ÙˆÙ„Ø©: {{ $('get the customers').item.json['Ù…Ø§ Ø¬Ù†Ø³ÙŠØªÙƒ'] }}\n- Ø§Ø°Ø§ Ù…Ø§ Ù„Ø¯ÙŠÙ‡ Ø´Ù‡Ø§Ø¯Ø© Ù„ØºØ©: {{ $('get the customers').item.json['Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø´Ù‡Ø§Ø¯Ø© Ù„ØºØ© Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠØ©ØŸ Ø§Ùˆ Ù‡Ù„ ÙƒØ§Ù†Øª Ø¯Ø±Ø§Ø³ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠØ©ØŸ'] }}\n- Ù‡Ù„ ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹: {{ $('get the customers').item.json['Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†Ø­Ø© Ø¹Ù† Ø·Ø±ÙŠÙ‚Ù†Ø§ ÙŠÙƒÙ„ÙÙƒ 10 Ø¯ÙˆÙ„Ø§Ø± Ù‡Ù„ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹ØŸ'] }}\n\n### 2. Ø³ÙŠØ§Ù‚ Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„Ø³Ø§Ø¨Ù‚:\nÙ†Ø­Ù† ØªÙˆØ§ØµÙ„Ù†Ø§ Ù…Ø¹Ù‡ Ø³Ø§Ø¨Ù‚Ø§Ù‹ ÙˆØ£Ø±Ø³Ù„Ù†Ø§ Ù„Ù‡ Ù‡Ø°Ù‡ Ø§Ù„Ø±Ø³Ø§Ù„Ø© (Ø§ÙÙ‡Ù… Ù…Ù†Ù‡Ø§ Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ù†Ø­ Ø§Ù„ØªÙŠ Ø§Ù‚ØªØ±Ø­Ù†Ø§Ù‡Ø§ Ø¹Ù„ÙŠÙ‡):\n\"{{ $('get the customers').item.json.message }}\"\n\n---\n\n### 3. Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø¹Ø±ÙØ© (Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„ÙˆØ­ÙŠØ¯ Ù„Ù„Ø­Ù‚ÙŠÙ‚Ø©):\nÙ‡Ø°Ù‡ Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø¬Ù…ÙŠØ¹ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†Ø­ Ø§Ù„Ù…ØªÙˆÙØ±Ø© Ù„Ø¯ÙŠÙ†Ø§ Ø­Ø§Ù„ÙŠØ§Ù‹. Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ù‡Ù†Ø§ ÙÙ‚Ø·:\n\n[\n  Ø§Ù„Ù…Ù†Ø­Ø©: {{ $json.name }}\n  Ø§Ù„ØªØ®ØµØµØ§Øª/Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬: {{ $json.property_programms }}\n  Ø§Ù„Ù„ØºØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©: {{ $json.property_language }}\n  ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡: {{ $json.property_date }}\n]\n\n---\n\n### â›” Ù‚ÙˆØ§Ù†ÙŠÙ† ØµØ§Ø±Ù…Ø© Ø¬Ø¯Ø§Ù‹ (Do's and Don'ts):\n\n1. **Ù‚Ø§Ø¹Ø¯Ø© \"Ø¹Ø¯Ù… Ø§Ù„ØªØ£Ù„ÙŠÙ\":**\n   - Ø¥Ø°Ø§ Ø³Ø£Ù„Ùƒ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø¹Ù† ØªÙØ§ØµÙŠÙ„ Ø¯Ù‚ÙŠÙ‚Ø© (Ù…Ø«Ù„: Ù‡Ù„ ÙŠÙˆØ¬Ø¯ Ø±Ø§ØªØ¨ Ø´Ù‡Ø±ÙŠØŸ Ù‡Ù„ Ø§Ù„Ø³ÙƒÙ† Ù…Ø¬Ø§Ù†ÙŠØŸ ÙƒÙ… ØªÙƒÙ„ÙØ© Ø§Ù„Ù…Ø¹ÙŠØ´Ø©ØŸ) ÙˆÙ‡Ø°Ù‡ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø© **ØºÙŠØ± Ù…ÙƒØªÙˆØ¨Ø© ØµØ±Ø§Ø­Ø©** ÙÙŠ \"Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø¹Ø±ÙØ©\" Ø£Ø¹Ù„Ø§Ù‡ØŒ **ØªÙˆÙ‚Ù ÙÙˆØ±Ø§Ù‹**.\n   - Ù„Ø§ ØªØ®Ù…Ù† ÙˆÙ„Ø§ ØªØ£ØªÙ Ø¨Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ø§Ù…Ø© Ù…Ù† Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.\n   - Ø§Ù„Ø±Ø¯ Ø§Ù„Ø¥Ù„Ø²Ø§Ù…ÙŠ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø©: \"Ø³Ø¤Ø§Ù„ Ù…Ù…ØªØ§Ø²! ğŸ‘Œ Ø³Ø£Ù‚ÙˆÙ… Ø¨ØªØ­ÙˆÙŠÙ„ Ø§Ø³ØªÙØ³Ø§Ø±Ùƒ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© ÙˆØ§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹.\"\n\n2. **Ø§Ù„ØªØ±ÙƒÙŠØ²:**\n   - Ø¥Ø°Ø§ Ø³Ø£Ù„ \"Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ù†Ø­ØŸ\"ØŒ Ø£Ø¹Ø¯ ØªØ°ÙƒÙŠØ±Ù‡ Ø¨Ø§Ù„Ù…Ù†Ø­ Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø© ÙÙŠ \"Ø³ÙŠØ§Ù‚ Ø§Ù„Ø­Ø¯ÙŠØ« Ø§Ù„Ø³Ø§Ø¨Ù‚\" Ø£ÙˆÙ„Ø§Ù‹ØŒ Ø«Ù… Ø§Ø°ÙƒØ± Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ù†Ø­ Ø¥Ø°Ø§ Ø·Ù„Ø¨.\n\n3. **Ø§Ù„ØªÙ†Ø³ÙŠÙ‚:**\n   - Ø±Ø³Ø§Ø¦Ù„Ùƒ Ù„Ù„ÙˆØ§ØªØ³Ø§Ø¨ØŒ Ø§Ø¬Ø¹Ù„Ù‡Ø§ Ù‚ØµÙŠØ±Ø© ÙˆÙ…Ù‚Ø³Ù…Ø© Ù„ÙÙ‚Ø±Ø§Øª.\n   - Ù„Ø§ ØªØ³ØªØ®Ø¯Ù… Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù†Ø¬Ù…Ø© (*) Ù„Ù„Ù‚ÙˆØ§Ø¦Ù…ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø´Ø±Ø·Ø© (-) Ù„Ø¶Ù…Ø§Ù† ØªÙ†Ø³ÙŠÙ‚ Ø¬ÙŠØ¯.\n\n4. **Ø§Ù„Ù‡Ø¯Ù Ø§Ù„Ø¨ÙŠØ¹ÙŠ:**\n   - Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø·Ø§Ù„Ø¨ Ù…ØªØ±Ø¯Ø¯Ø§Ù‹ØŒ Ø´Ø¬Ø¹Ù‡ Ø¨Ù„Ø·Ù Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ù„Ø£Ù† Ø§Ù„ÙØ±Øµ Ù…Ø­Ø¯ÙˆØ¯Ø©ØŒ ÙˆØ°ÙƒØ±Ù‡ Ø£Ù†Ù†Ø§ Ù†Ø³Ø§Ø¹Ø¯Ù‡ ÙÙŠ ÙƒÙ„ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ù…Ø«Ù„ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø­Ø§ÙØ² ÙˆØ§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø¬Ø§Ù…Ø¹Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©.\n\n---\n\n### ÙƒÙŠÙÙŠØ© Ø§Ù„Ø±Ø¯ Ø§Ù„Ø¢Ù†:\n Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©ØŒ Ù‚Ø¯Ù… Ù„Ù‡ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø¹Ù„Ø§Ù‡ ÙÙ‚Ø· ÙˆØ§Ø°Ø§ Ø³Ø£Ù„ Ø¹Ù† ØªÙØ§ØµÙŠÙ„ Ø®Ø§Ø±Ø¬ Ù‡Ø°Ø§ Ø§Ù„Ù†Ø·Ø§Ù‚.",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        64,
        -80
      ],
      "id": "fffe50cf-5f39-41c0-8654-24ea883d24cf",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        64,
        112
      ],
      "id": "51e3cd02-6d2d-4c57-9573-a534391b4b70",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "M2doJboCUh5gMZU5",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Webhook').item.json.body.payload.from }}",
        "contextWindowLength": 20
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        240,
        80
      ],
      "id": "4157ae69-dd27-45ae-96f4-b97aaddc130b",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "8e718014-4710-4f89-a256-c668e901002a",
              "leftValue": "={{ $json.body.payload.fromMe }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -960,
        -176
      ],
      "id": "0417de10-1734-4c44-891b-e26b703b1e27",
      "name": "if it from me"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "c1e84612-ef60-4e31-a919-72e61f766c71",
              "leftValue": "={{ $json.body.payload.body }}",
              "rightValue": "#stop",
              "operator": {
                "type": "string",
                "operation": "startsWith"
              }
            },
            {
              "id": "c78786e2-f858-4db8-8b66-e42a6e03b367",
              "leftValue": "={{ $json.body.payload.fromMe }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "true",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -784,
        -384
      ],
      "id": "86780b23-fe0a-4f15-85d8-388ffe5debda",
      "name": "is it stop?"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "4da08a8a-1e20-4d79-b16a-26fd3e089a6a",
              "leftValue": "={{ $json.body.payload.body }}",
              "rightValue": "#start",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -672,
        -224
      ],
      "id": "ababc229-e9fc-4ad4-9fbf-1afe8047c4ed",
      "name": "is it start?"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c7189294-74f5-4ec6-bfb7-5b3b63e2ecde",
              "name": "=target_phone",
              "value": "={{ $json.body.payload.body.split(' ')[1] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -544,
        -400
      ],
      "id": "e868c87d-f3e7-4378-8b46-ed677241c27a",
      "name": "phone num"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "YOU_GOOGLE_SHEET_ID",
          "mode": "list",
          "cachedResultName": "Ù…Ù†Ø­ Ù…Ù† Ø§Ø¬Ù„Ùƒ (Ø§Ù„Ø±Ø¯ÙˆØ¯)",
          "cachedResultUrl": "YOUR_GOOGLE_SHEET_ID"
        },
        "sheetName": {
          "__rl": true,
          "value": 1093471437,
          "mode": "list",
          "cachedResultName": "Ø±Ø¯ÙˆØ¯ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ 1",
          "cachedResultUrl": "YOUR_GOOGLE_SHEET_ID"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³ Ø§Ø¨ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ø¹ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„ÙŠ ( Ù…Ø«Ù„Ø§  Ø§Ù„ÙŠÙ…Ù† +967)": "={{ $('phone num').item.json.target_phone }}",
            "bot_status": "stopped",
            "row_number": 0
          },
          "matchingColumns": [
            "Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³ Ø§Ø¨ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ø¹ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„ÙŠ ( Ù…Ø«Ù„Ø§  Ø§Ù„ÙŠÙ…Ù† +967)"
          ],
          "schema": [
            {
              "id": "Ø·Ø§Ø¨Ø¹ Ø²Ù…Ù†ÙŠ",
              "displayName": "Ø·Ø§Ø¨Ø¹ Ø²Ù…Ù†ÙŠ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ø§Ù„Ø§Ø³Ù… ÙƒØ§Ù…Ù„Ø§",
              "displayName": "Ø§Ù„Ø§Ø³Ù… ÙƒØ§Ù…Ù„Ø§",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³ Ø§Ø¨ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ø¹ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„ÙŠ ( Ù…Ø«Ù„Ø§  Ø§Ù„ÙŠÙ…Ù† +967)",
              "displayName": "Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³ Ø§Ø¨ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ø¹ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„ÙŠ ( Ù…Ø«Ù„Ø§  Ø§Ù„ÙŠÙ…Ù† +967)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Ù…Ø§ Ø¬Ù†Ø³ÙŠØªÙƒ",
              "displayName": "Ù…Ø§ Ø¬Ù†Ø³ÙŠØªÙƒ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ø§Ù„Ø¹Ù…Ø±ØŸ (ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆÙ„Ø§Ø¯Ø© Ø¨Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ)",
              "displayName": "Ø§Ù„Ø¹Ù…Ø±ØŸ (ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆÙ„Ø§Ø¯Ø© Ø¨Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ù…Ø§ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„ØªÙŠ Ù„Ø¯ÙŠÙƒ",
              "displayName": "Ù…Ø§ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„ØªÙŠ Ù„Ø¯ÙŠÙƒ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ø¹Ù„Ù‰ Ø§ÙŠ Ø¯Ø±Ø¬Ø© Ø¬Ø§Ù…Ø¹ÙŠØ© ØªÙˆØ¯ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…",
              "displayName": "Ø¹Ù„Ù‰ Ø§ÙŠ Ø¯Ø±Ø¬Ø© Ø¬Ø§Ù…Ø¹ÙŠØ© ØªÙˆØ¯ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø´Ù‡Ø§Ø¯Ø© Ù„ØºØ© Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠØ©ØŸ Ø§Ùˆ Ù‡Ù„ ÙƒØ§Ù†Øª Ø¯Ø±Ø§Ø³ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠØ©ØŸ",
              "displayName": "Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø´Ù‡Ø§Ø¯Ø© Ù„ØºØ© Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠØ©ØŸ Ø§Ùˆ Ù‡Ù„ ÙƒØ§Ù†Øª Ø¯Ø±Ø§Ø³ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠØ©ØŸ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†Ø­Ø© Ø¹Ù† Ø·Ø±ÙŠÙ‚Ù†Ø§ ÙŠÙƒÙ„ÙÙƒ 10 Ø¯ÙˆÙ„Ø§Ø± Ù‡Ù„ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹ØŸ",
              "displayName": "Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†Ø­Ø© Ø¹Ù† Ø·Ø±ÙŠÙ‚Ù†Ø§ ÙŠÙƒÙ„ÙÙƒ 10 Ø¯ÙˆÙ„Ø§Ø± Ù‡Ù„ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹ØŸ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ",
              "displayName": "Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "bot_status",
              "displayName": "bot_status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "message",
              "displayName": "message",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false,
          "options": {}
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -352,
        -400
      ],
      "id": "a2b56c9c-db04-4e0d-bde7-65f668f98df4",
      "name": "turn it off",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "sfF49iymSO5Iop1w",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c7189294-74f5-4ec6-bfb7-5b3b63e2ecde",
              "name": "=target_phone",
              "value": "={{ $json.body.payload.body.split(' ')[1] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -384,
        -240
      ],
      "id": "acad47b7-c889-447f-a886-3098e8cd1e05",
      "name": "phone num2"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "YOU_GOOGLE_SHEET_ID",
          "mode": "list",
          "cachedResultName": "Ù…Ù†Ø­ Ù…Ù† Ø§Ø¬Ù„Ùƒ (Ø§Ù„Ø±Ø¯ÙˆØ¯)",
          "cachedResultUrl": "YOUR_GOOGLE_SHEET_ID"
        },
        "sheetName": {
          "__rl": true,
          "value": 1093471437,
          "mode": "list",
          "cachedResultName": "Ø±Ø¯ÙˆØ¯ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ 1",
          "cachedResultUrl": "YOUR_GOOGLE_SHEET_ID"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³ Ø§Ø¨ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ø¹ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„ÙŠ ( Ù…Ø«Ù„Ø§  Ø§Ù„ÙŠÙ…Ù† +967)": "={{ $('phone num2').item.json.target_phone }}",
            "row_number": 0
          },
          "matchingColumns": [
            "Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³ Ø§Ø¨ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ø¹ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„ÙŠ ( Ù…Ø«Ù„Ø§  Ø§Ù„ÙŠÙ…Ù† +967)"
          ],
          "schema": [
            {
              "id": "Ø·Ø§Ø¨Ø¹ Ø²Ù…Ù†ÙŠ",
              "displayName": "Ø·Ø§Ø¨Ø¹ Ø²Ù…Ù†ÙŠ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ø§Ù„Ø§Ø³Ù… ÙƒØ§Ù…Ù„Ø§",
              "displayName": "Ø§Ù„Ø§Ø³Ù… ÙƒØ§Ù…Ù„Ø§",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³ Ø§Ø¨ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ø¹ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„ÙŠ ( Ù…Ø«Ù„Ø§  Ø§Ù„ÙŠÙ…Ù† +967)",
              "displayName": "Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³ Ø§Ø¨ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ø¹ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„ÙŠ ( Ù…Ø«Ù„Ø§  Ø§Ù„ÙŠÙ…Ù† +967)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Ù…Ø§ Ø¬Ù†Ø³ÙŠØªÙƒ",
              "displayName": "Ù…Ø§ Ø¬Ù†Ø³ÙŠØªÙƒ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ø§Ù„Ø¹Ù…Ø±ØŸ (ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆÙ„Ø§Ø¯Ø© Ø¨Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ)",
              "displayName": "Ø§Ù„Ø¹Ù…Ø±ØŸ (ØªØ§Ø±ÙŠØ® Ø§Ù„ÙˆÙ„Ø§Ø¯Ø© Ø¨Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ù…Ø§ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„ØªÙŠ Ù„Ø¯ÙŠÙƒ",
              "displayName": "Ù…Ø§ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ø§Ù„ØªÙŠ Ù„Ø¯ÙŠÙƒ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ø¹Ù„Ù‰ Ø§ÙŠ Ø¯Ø±Ø¬Ø© Ø¬Ø§Ù…Ø¹ÙŠØ© ØªÙˆØ¯ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…",
              "displayName": "Ø¹Ù„Ù‰ Ø§ÙŠ Ø¯Ø±Ø¬Ø© Ø¬Ø§Ù…Ø¹ÙŠØ© ØªÙˆØ¯ Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø´Ù‡Ø§Ø¯Ø© Ù„ØºØ© Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠØ©ØŸ Ø§Ùˆ Ù‡Ù„ ÙƒØ§Ù†Øª Ø¯Ø±Ø§Ø³ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠØ©ØŸ",
              "displayName": "Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø´Ù‡Ø§Ø¯Ø© Ù„ØºØ© Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠØ©ØŸ Ø§Ùˆ Ù‡Ù„ ÙƒØ§Ù†Øª Ø¯Ø±Ø§Ø³ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠØ©ØŸ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†Ø­Ø© Ø¹Ù† Ø·Ø±ÙŠÙ‚Ù†Ø§ ÙŠÙƒÙ„ÙÙƒ 10 Ø¯ÙˆÙ„Ø§Ø± Ù‡Ù„ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹ØŸ",
              "displayName": "Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†Ø­Ø© Ø¹Ù† Ø·Ø±ÙŠÙ‚Ù†Ø§ ÙŠÙƒÙ„ÙÙƒ 10 Ø¯ÙˆÙ„Ø§Ø± Ù‡Ù„ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ¹ØŸ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ",
              "displayName": "Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ùƒ",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "bot_status",
              "displayName": "bot_status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "message",
              "displayName": "message",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false,
          "options": {}
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -192,
        -256
      ],
      "id": "99bf0057-c515-4f9c-beb6-65e6ef6e7059",
      "name": "turn it on",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "sfF49iymSO5Iop1w",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "YOU_GOOGLE_SHEET_ID",
          "mode": "list",
          "cachedResultName": "Ù…Ù†Ø­ Ù…Ù† Ø§Ø¬Ù„Ùƒ (Ø§Ù„Ø±Ø¯ÙˆØ¯)",
          "cachedResultUrl": "YOUR_GOOGLE_SHEET_ID"
        },
        "sheetName": {
          "__rl": true,
          "value": 1093471437,
          "mode": "list",
          "cachedResultName": "Ø±Ø¯ÙˆØ¯ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ 1",
          "cachedResultUrl": "YOUR_GOOGLE_SHEET_ID"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Ø±Ù‚Ù… Ø§Ù„ÙˆØ§ØªØ³ Ø§Ø¨ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ø¹ Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø¯ÙˆÙ„ÙŠ ( Ù…Ø«Ù„Ø§  Ø§Ù„ÙŠÙ…Ù† +967)",
              "lookupValue": "={{ $json.body.payload.from.replace('@c.us', '') }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -768,
        -48
      ],
      "id": "2981c899-f2ed-464a-a516-df83d2c35446",
      "name": "get the customers",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "sfF49iymSO5Iop1w",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "bf0dd033-ff98-45e9-8f06-cd339c15b373",
              "leftValue": "={{ $json.bot_status }}",
              "rightValue": "stopped",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -576,
        -48
      ],
      "id": "30e06b5a-fed5-4633-a145-f909a038c656",
      "name": "is the ai stopped"
    },
    {
      "parameters": {
        "resource": "databasePage",
        "operation": "getAll",
        "databaseId": {
          "__rl": true,
          "value": "YOUR_NOTION_DATABASE_ID",
          "mode": "list",
          "cachedResultName": "SCHOLARSHIPS",
          "cachedResultUrl": "https://www.notion.so/"
        },
        "returnAll": true,
        "options": {}
      },
      "type": "n8n-nodes-base.notion",
      "typeVersion": 2.2,
      "position": [
        -368,
        0
      ],
      "id": "568c22c8-13fd-4379-88c1-586ee4170d5d",
      "name": "Get many database pages",
      "credentials": {
        "notionApi": {
          "id": "Yu0f0ArfYZZY972h",
          "name": "Notion account"
        }
      }
    },
    {
      "parameters": {
        "fieldsToAggregate": {
          "fieldToAggregate": [
            {
              "fieldToAggregate": "name"
            },
            {
              "fieldToAggregate": "property_language"
            },
            {
              "fieldToAggregate": "property_programms"
            },
            {
              "fieldToAggregate": "property_date.start",
              "renameField": true,
              "outputFieldName": "property_date"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        -192,
        0
      ],
      "id": "0eed7da4-c5b1-4138-92ed-69df89e8f22a",
      "name": "Aggregate"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://host.docker.internal:3000/api/sendText",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "X-Api-Key",
              "value": "YOUR_WAHA_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ {\n  \"chatId\": $('Webhook').item.json.body.payload.from,\n  \"text\": $json.output,\n  \"session\": \"default\"\n} }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        464,
        -80
      ],
      "id": "3fbf49e7-6fd0-480a-8172-95f3701fd19f",
      "name": "HTTP Request"
    }
  ],
  "pinData": {},
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "if it from me",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "if it from me": {
      "main": [
        [
          {
            "node": "is it stop?",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "get the customers",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "is it stop?": {
      "main": [
        [
          {
            "node": "phone num",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "is it start?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "is it start?": {
      "main": [
        [
          {
            "node": "phone num2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "phone num": {
      "main": [
        [
          {
            "node": "turn it off",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "phone num2": {
      "main": [
        [
          {
            "node": "turn it on",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "get the customers": {
      "main": [
        [
          {
            "node": "is the ai stopped",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "is the ai stopped": {
      "main": [
        [],
        [
          {
            "node": "Get many database pages",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get many database pages": {
      "main": [
        [
          {
            "node": "Aggregate",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "54d36dcf-cfcd-46a2-975c-b41f226257e3",
  "meta": {
    "instanceId": "cac0b53abc12bde23f4ac9b6d3f2db118b0c108d3f29687a8190beefcd9164fc"
  },
  "id": "p91kyn8etPbL9Hkt",
  "tags": []
}